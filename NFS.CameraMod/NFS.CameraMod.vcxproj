<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <!-- ====================================================== -->
    <!-- CONFIGURATIONS -->
    <!-- ====================================================== -->
    <ItemGroup Label="ProjectConfigurations">

        <ProjectConfiguration Include="Debug|Win32">
            <Configuration>Debug</Configuration>
            <Platform>Win32</Platform>
        </ProjectConfiguration>

        <ProjectConfiguration Include="Release|Win32">
            <Configuration>Release</Configuration>
            <Platform>Win32</Platform>
        </ProjectConfiguration>

    </ItemGroup>

    <!-- ====================================================== -->
    <!-- GLOBALS -->
    <!-- ====================================================== -->
    <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props"/>

    <PropertyGroup Label="Globals">
        <ProjectGuid>{cfe443ac-2306-414a-9605-7e7ebbded37a}</ProjectGuid>
        <Keyword>Win32Proj</Keyword>
        <RootNamespace>NFS.CameraMod</RootNamespace>
        <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
        <PlatformToolset>v143</PlatformToolset>
        <ConfigurationType>DynamicLibrary</ConfigurationType>
        <CharacterSet>Unicode</CharacterSet>
    </PropertyGroup>

    <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props"/>

    <!-- ====================================================== -->
    <!-- COMMON OUTPUT -->
    <!-- ====================================================== -->
    <PropertyGroup>
        <TargetExt>.asi</TargetExt>
        <OutDir>$(SolutionDir)scripts\</OutDir>
    </PropertyGroup>

    <PropertyGroup Condition="'$(Configuration)'=='Debug' Or '$(Configuration)'=='Release'">
        <TargetName>NFS.CameraMod</TargetName>
    </PropertyGroup>

    <ItemDefinitionGroup Condition="'$(Configuration)'=='Debug' Or '$(Configuration)'=='Release'">
        <PostBuildEvent>
            <Command>
                <!--                XCOPY /Y /R "$(SolutionDir)NFS.CameraMod.ini" "$(OutDir)" &amp;-->
                
<!--                XCOPY /Y /R "$(SolutionDir)NFS.CameraMod.ini" "d:\Games\NFS MW - Beta Content Mod\scripts\" &amp;-->
<!--                XCOPY /Y /R "$(TargetPath)" "d:\Games\NFS MW - Beta Content Mod\scripts\"-->

                XCOPY /Y /R "$(SolutionDir)NFS.CameraMod.ini" "d:\Games\NFSC Redux\scripts\" &amp;
                XCOPY /Y /R "$(TargetPath)" "d:\Games\NFSC Redux\Scripts\"
            </Command>
        </PostBuildEvent>
    </ItemDefinitionGroup>

    <!-- ====================================================== -->
    <!-- CONFIGURATION FLAGS -->
    <!-- ====================================================== -->
    <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
        <UseDebugLibraries>true</UseDebugLibraries>
    </PropertyGroup>

    <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
        <UseDebugLibraries>false</UseDebugLibraries>
        <WholeProgramOptimization>true</WholeProgramOptimization>
    </PropertyGroup>

    <!-- ====================================================== -->
    <!-- PROPERTY SHEETS -->
    <!-- ====================================================== -->
    <ImportGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'" Label="PropertySheets">
        <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform"/>
    </ImportGroup>

    <ImportGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'" Label="PropertySheets">
        <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform"/>
    </ImportGroup>

    <PropertyGroup Label="UserMacros"/>

    <!-- ====================================================== -->
    <!-- COMMON COMPILER / LINKER -->
    <!-- ====================================================== -->
    <ItemDefinitionGroup>
        <ClCompile>
            <LanguageStandard>stdcpp17</LanguageStandard>
            <AdditionalIncludeDirectories>
                ..\includes;
                includes\minhook;
                $(DXSDK_DIR)Include;
                %(AdditionalIncludeDirectories)
            </AdditionalIncludeDirectories>
        </ClCompile>

        <Link>
            <SubSystem>Windows</SubSystem>
            <AdditionalLibraryDirectories>
                $(DXSDK_DIR)Lib\x86;
                %(AdditionalLibraryDirectories)
            </AdditionalLibraryDirectories>
            <AdditionalDependencies>
                d3d9.lib;
                d3dx9.lib;
                ws2_32.lib;
                crypt32.lib;
                %(AdditionalDependencies)
            </AdditionalDependencies>
        </Link>
    </ItemDefinitionGroup>

    <!-- ====================================================== -->
    <!-- MW CONFIG -->
    <!-- ====================================================== -->
    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug|Win32'">
        <ClCompile>
            <PrecompiledHeader>NotUsing</PrecompiledHeader>
            <WarningLevel>Level3</WarningLevel>
            <Optimization>Disabled</Optimization>
            <PreprocessorDefinitions>
                _DEBUG;_WINDOWS;_USRDLL;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)
            </PreprocessorDefinitions>
        </ClCompile>
        <Link>
            <GenerateDebugInformation>true</GenerateDebugInformation>
        </Link>
    </ItemDefinitionGroup>

    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release|Win32'">
        <ClCompile>
            <PrecompiledHeader>NotUsing</PrecompiledHeader>
            <WarningLevel>Level4</WarningLevel>
            <Optimization>MaxSpeed</Optimization>
            <PreprocessorDefinitions>
                NDEBUG;_WINDOWS;_USRDLL;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)
            </PreprocessorDefinitions>
        </ClCompile>
    </ItemDefinitionGroup>

    <!-- ====================================================== -->
    <!-- FILES -->
    <!-- ====================================================== -->
    <ItemGroup>
        <ClInclude Include="..\includes\minhook\include\MinHook.h"/>
        <ClInclude Include="..\includes\minhook\src\buffer.h"/>
        <ClInclude Include="..\includes\minhook\src\hde\hde32.h"/>
        <ClInclude Include="..\includes\minhook\src\hde\hde64.h"/>
        <ClInclude Include="..\includes\minhook\src\hde\pstdint.h"/>
        <ClInclude Include="..\includes\minhook\src\hde\table32.h"/>
        <ClInclude Include="..\includes\minhook\src\hde\table64.h"/>
        <ClInclude Include="..\includes\minhook\src\trampoline.h"/>
        <ClInclude Include="Math.h" />
        <ClInclude Include="MostWanted.h"/>
        <ClInclude Include="Carbon.h"/>
        <ClInclude Include="Game.h"/>
        <ClInclude Include="CameraManager.h" />
        <ClInclude Include="CarbonCameraManager.h" />
        <ClInclude Include="MWCameraManager.h" />
        <ClInclude Include="TimeManager.h" />
        <ClInclude Include="ConfigurationManager.h" />
    </ItemGroup>

    <ItemGroup>
        <ClCompile Include="..\includes\minhook\src\buffer.c"/>
        <ClCompile Include="..\includes\minhook\src\hde\hde32.c"/>
        <ClCompile Include="..\includes\minhook\src\hde\hde64.c"/>
        <ClCompile Include="..\includes\minhook\src\hook.c"/>
        <ClCompile Include="..\includes\minhook\src\trampoline.c"/>
        <ClCompile Include="CameraManager.cpp"/>
        <ClCompile Include="CarbonCameraManager.cpp"/>
        <ClCompile Include="MWCameraManager.cpp"/>
        <ClCompile Include="dllmain.cpp"/>
    </ItemGroup>

    <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets"/>

</Project>
