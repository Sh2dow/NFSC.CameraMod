<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <!-- ====================================================== -->
    <!-- CONFIGURATIONS -->
    <!-- ====================================================== -->
    <ItemGroup Label="ProjectConfigurations">

        <ProjectConfiguration Include="Debug_MW|Win32">
            <Configuration>Debug_MW</Configuration>
            <Platform>Win32</Platform>
        </ProjectConfiguration>

        <ProjectConfiguration Include="Release_MW|Win32">
            <Configuration>Release_MW</Configuration>
            <Platform>Win32</Platform>
        </ProjectConfiguration>

        <ProjectConfiguration Include="Debug_CB|Win32">
            <Configuration>Debug_CB</Configuration>
            <Platform>Win32</Platform>
        </ProjectConfiguration>

        <ProjectConfiguration Include="Release_CB|Win32">
            <Configuration>Release_CB</Configuration>
            <Platform>Win32</Platform>
        </ProjectConfiguration>

    </ItemGroup>

    <!-- ====================================================== -->
    <!-- GLOBALS -->
    <!-- ====================================================== -->
    <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props"/>

    <PropertyGroup Label="Globals">
        <ProjectGuid>{cfe443ac-2306-414a-9605-7e7ebbded37a}</ProjectGuid>
        <Keyword>Win32Proj</Keyword>
        <RootNamespace>NFS.CameraMod</RootNamespace>
        <WindowsTargetPlatformVersion>10.0</WindowsTargetPlatformVersion>
        <PlatformToolset>v143</PlatformToolset>
        <ConfigurationType>DynamicLibrary</ConfigurationType>
        <CharacterSet>Unicode</CharacterSet>
    </PropertyGroup>

    <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props"/>

    <!-- ====================================================== -->
    <!-- COMMON OUTPUT -->
    <!-- ====================================================== -->
    <PropertyGroup Condition="'$(Configuration)'=='Debug_MW' Or '$(Configuration)'=='Release_MW'">
        <TargetName>NFSMW.CameraMod</TargetName>
    </PropertyGroup>

    <PropertyGroup Condition="'$(Configuration)'=='Debug_CB' Or '$(Configuration)'=='Release_CB'">
        <TargetName>NFSC.CameraMod</TargetName>
    </PropertyGroup>

    <PropertyGroup>
        <TargetExt>.asi</TargetExt>
        <OutDir>$(SolutionDir)scripts\</OutDir>
    </PropertyGroup>

    <!-- ====================================================== -->
    <!-- POST BUILD -->
    <!-- ====================================================== -->
    <ItemDefinitionGroup>
        <PostBuildEvent>
            <Command>
                XCOPY /Y /R "$(TargetPath)" "d:\Games\NFS MW - Vanilla\SCRIPTS\"
<!--                XCOPY /Y /R "$(TargetPath)" "d:\Games\NFSC - Rework11\Scripts\"-->
            </Command>
        </PostBuildEvent>
    </ItemDefinitionGroup>

    <!-- ====================================================== -->
    <!-- CONFIGURATION FLAGS -->
    <!-- ====================================================== -->
    <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug_MW|Win32'">
        <UseDebugLibraries>true</UseDebugLibraries>
    </PropertyGroup>

    <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release_MW|Win32'">
        <UseDebugLibraries>false</UseDebugLibraries>
        <WholeProgramOptimization>true</WholeProgramOptimization>
    </PropertyGroup>

    <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug_CB|Win32'">
        <UseDebugLibraries>true</UseDebugLibraries>
    </PropertyGroup>

    <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release_CB|Win32'">
        <UseDebugLibraries>false</UseDebugLibraries>
        <WholeProgramOptimization>true</WholeProgramOptimization>
    </PropertyGroup>

    <!-- ====================================================== -->
    <!-- PROPERTY SHEETS -->
    <!-- ====================================================== -->
    <ImportGroup Condition="'$(Configuration)|$(Platform)'=='Debug_MW|Win32'" Label="PropertySheets">
        <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform"/>
    </ImportGroup>

    <ImportGroup Condition="'$(Configuration)|$(Platform)'=='Release_MW|Win32'" Label="PropertySheets">
        <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform"/>
    </ImportGroup>

    <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Debug_CB|Win32'">
        <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform"/>
    </ImportGroup>

    <ImportGroup Label="PropertySheets" Condition="'$(Configuration)|$(Platform)'=='Release_CB|Win32'">
        <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform"/>
    </ImportGroup>

    <PropertyGroup Label="UserMacros"/>

    <!-- ====================================================== -->
    <!-- COMMON COMPILER / LINKER -->
    <!-- ====================================================== -->
    <ItemDefinitionGroup>
        <ClCompile>
            <LanguageStandard>stdcpp17</LanguageStandard>
            <AdditionalIncludeDirectories>
                ..\includes;
                includes\minhook;
                $(DXSDK_DIR)Include;
                %(AdditionalIncludeDirectories)
            </AdditionalIncludeDirectories>
        </ClCompile>

        <Link>
            <SubSystem>Windows</SubSystem>
            <OutputFile>$(OutDir)$(TargetName)$(TargetExt)</OutputFile>
            <AdditionalLibraryDirectories>
                $(DXSDK_DIR)Lib\x86;
                %(AdditionalLibraryDirectories)
            </AdditionalLibraryDirectories>
            <AdditionalDependencies>
                d3d9.lib;
                d3dx9.lib;
                ws2_32.lib;
                crypt32.lib;
                %(AdditionalDependencies)
            </AdditionalDependencies>
        </Link>
    </ItemDefinitionGroup>

    <!-- ====================================================== -->
    <!-- MW CONFIG -->
    <!-- ====================================================== -->
    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug_MW|Win32'">
        <ClCompile>
            <PrecompiledHeader>NotUsing</PrecompiledHeader>
            <WarningLevel>Level3</WarningLevel>
            <Optimization>Disabled</Optimization>
            <PreprocessorDefinitions>
                GAME_MW;_DEBUG;_WINDOWS;_USRDLL;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)
            </PreprocessorDefinitions>
        </ClCompile>
        <Link>
            <GenerateDebugInformation>true</GenerateDebugInformation>
        </Link>
    </ItemDefinitionGroup>

    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release_MW|Win32'">
        <ClCompile>
            <PrecompiledHeader>NotUsing</PrecompiledHeader>
            <WarningLevel>Level4</WarningLevel>
            <Optimization>MaxSpeed</Optimization>
            <PreprocessorDefinitions>
                GAME_MW;NDEBUG;_WINDOWS;_USRDLL;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)
            </PreprocessorDefinitions>
        </ClCompile>
    </ItemDefinitionGroup>

    <!-- ====================================================== -->
    <!-- CB CONFIG -->
    <!-- ====================================================== -->
    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Debug_CB|Win32'">
        <ClCompile>
            <PrecompiledHeader>NotUsing</PrecompiledHeader>
            <WarningLevel>Level3</WarningLevel>
            <Optimization>Disabled</Optimization>
            <PreprocessorDefinitions>
                GAME_CB;_DEBUG;_WINDOWS;_USRDLL;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)
            </PreprocessorDefinitions>
        </ClCompile>
        <Link>
            <GenerateDebugInformation>true</GenerateDebugInformation>
        </Link>
    </ItemDefinitionGroup>

    <ItemDefinitionGroup Condition="'$(Configuration)|$(Platform)'=='Release_CB|Win32'">
        <ClCompile>
            <PrecompiledHeader>NotUsing</PrecompiledHeader>
            <WarningLevel>Level4</WarningLevel>
            <Optimization>MaxSpeed</Optimization>
            <PreprocessorDefinitions>
                GAME_CB;NDEBUG;_WINDOWS;_USRDLL;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)
            </PreprocessorDefinitions>
        </ClCompile>
    </ItemDefinitionGroup>

    <!-- ====================================================== -->
    <!-- FILES -->
    <!-- ====================================================== -->
    <ItemGroup>
        <ClInclude Include="..\includes\minhook\include\MinHook.h"/>
        <ClInclude Include="..\includes\minhook\src\buffer.h"/>
        <ClInclude Include="..\includes\minhook\src\hde\hde32.h"/>
        <ClInclude Include="..\includes\minhook\src\hde\hde64.h"/>
        <ClInclude Include="..\includes\minhook\src\hde\pstdint.h"/>
        <ClInclude Include="..\includes\minhook\src\hde\table32.h"/>
        <ClInclude Include="..\includes\minhook\src\hde\table64.h"/>
        <ClInclude Include="..\includes\minhook\src\trampoline.h"/>
        <ClInclude Include="Carbon.h"/>
        <ClInclude Include="Log.h"/>
        <ClInclude Include="MostWanted.h"/>
    </ItemGroup>

    <ItemGroup>
        <ClCompile Include="..\includes\minhook\src\buffer.c"/>
        <ClCompile Include="..\includes\minhook\src\hde\hde32.c"/>
        <ClCompile Include="..\includes\minhook\src\hde\hde64.c"/>
        <ClCompile Include="..\includes\minhook\src\hook.c"/>
        <ClCompile Include="..\includes\minhook\src\trampoline.c"/>
        <ClCompile Include="dllmain.cpp"/>
        <ClCompile Include="Game.h"/>
        <ClCompile Include="Math.h" />
    </ItemGroup>

    <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets"/>

</Project>
